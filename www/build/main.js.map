{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/data/data.service.ts","../../src/providers/chat/chat.service.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/app/app.firebase.config.ts","../../src/providers/auth/auth.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 160;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 160\n// module chunks = 10","var map = {\n\t\"../pages/channel-chat/channel-chat.module\": [\n\t\t456,\n\t\t8\n\t],\n\t\"../pages/channels/channels.module\": [\n\t\t457,\n\t\t9\n\t],\n\t\"../pages/edit-profile/edit-profile.module\": [\n\t\t458,\n\t\t7\n\t],\n\t\"../pages/inbox/inbox.module\": [\n\t\t459,\n\t\t1\n\t],\n\t\"../pages/login/login.module\": [\n\t\t460,\n\t\t6\n\t],\n\t\"../pages/message/message.module\": [\n\t\t461,\n\t\t5\n\t],\n\t\"../pages/profile/profile.module\": [\n\t\t462,\n\t\t4\n\t],\n\t\"../pages/register/register.module\": [\n\t\t463,\n\t\t3\n\t],\n\t\"../pages/search-user/search-user.module\": [\n\t\t464,\n\t\t2\n\t],\n\t\"../pages/tabs/tabs.module\": [\n\t\t465,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 202;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 202\n// module chunks = 10","import { Injectable } from '@angular/core';\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database';\nimport { Profile } from \"../../models/profile/profile.interface\";\n// (1) Interface / Model par default pour un User Firebase\n// C'est la raison pour laquelle on a renomer user par profile lors de ce commit, cela permet de mieux dissocier les deux\nimport { User } from 'firebase/app';\nimport {  database } from 'firebase';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/mergeMap';\nimport { AuthService } from \"../auth/auth.service\";\n/*\n  Generated class for the DataProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class DataService {\n\n  //Un objet ~-> un item\n  profileObject: FirebaseObjectObservable<Profile>\n  //Une liste ~-> une liste d'items\n  profileList: FirebaseListObservable<Profile[]>\n\n  constructor(private authService: AuthService,\n    private angularFireDatabase: AngularFireDatabase) {}\n\n  //Pour retourner qu'une réponse avec deux Observable on utilise mergeMap =~  (2 x .then) = 1 mergeMap\n  getAuthenticatedUserProfile(){\n    return this.authService.getAuthenticateUser()\n      .map(user => user.uid)\n      .mergeMap(authId => this.angularFireDatabase.object(`/profiles/${authId}`))\n      .take(1)\n  }\n\n  getProfile(user: User){\n    this.profileObject = this.angularFireDatabase.object(`/profiles/${user.uid}`, { preserveSnapshot: true});\n    //Take fais partie de rxjs ~ subscribe 1\n    return this.profileObject.take(1);\n  }\n\n  async saveProfile(user: User, profile: Profile){\n    this.profileObject = this.angularFireDatabase.object(`/profiles/${user.uid}`);\n    try{\n      await this.profileObject.set(profile);\n      return true;\n    }\n    catch(err){\n      console.error(err);\n      return false;\n    }\n  }\n\n  searchUser(firstName: string){\n    const query = this.angularFireDatabase.list('profiles',{\n      query : {\n        orderByChild: 'firstName',\n        equalTo: firstName\n      }\n    });\n    //Take fais partie de rxjs ~ subscribe 1\n    return query.take(1)\n  }\n\n  setUserOnline(profile: Profile){\n    const ref = database().ref(`online-users/${profile.$key}`)\n\n    try{\n      ref.update({...profile});\n      ref.onDisconnect().remove;\n    }\n    catch(e){\n      console.error(e);\n    }\n  }\n\n  getOnlineUsers(): FirebaseListObservable<Profile[]>{\n    return this.angularFireDatabase.list(`online-users`);\n  }\n}\n\n\n// (1) Interface / Model par default pour un User Firebase\n/*\n{\n  'uid-1': {\n    firstName: 'Paul',\n    lastName : 'Halliday',\n    ...\n}\n  }*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/data/data.service.ts","import { AngularFireDatabase, FirebaseListObservable } from \"angularfire2/database\";\nimport { Injectable } from '@angular/core';\nimport { Observable } from \"rxjs/Observable\";\nimport 'rxjs/add/observable/forkJoin';\nimport 'rxjs/add/operator/first';\n\n// import 'rxjs/add/operator/map';\n// import 'rxjs/add/operator/mergeMap';\n\nimport { AuthService } from \"../auth/auth.service\";\nimport { Messages } from \"../../models/messages/messages.interface\";\nimport { Channels } from \"../../models/channels/channels.interface\";\nimport { ChannelMessage } from \"../../models/channels/channel-message.interface\";\n\n/*\n  Generated class for the ChatProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class ChatService {\n\n  constructor(\n    public angularFireDatabase: AngularFireDatabase,\n    private authService: AuthService,\n  ) {\n  }\n\n\n  // Dans une nouvelle base de donnée quand nome \"channel-names\" on ajoute grace à cette fonction des \"clés : valeurs\"\n    /*\n    channel-names :\n      -Kewjjwai221 :\n        name: 'Ionic'\n      -Kewjjwai22321 :\n        name: 'Angular'\n    */\n  addChannel(channelName: string){\n    this.angularFireDatabase.list('channel-names').push({ name: channelName });\n  }\n\n  getChannelListRef(): FirebaseListObservable<Channels>{\n    return this.angularFireDatabase.list('channel-names');\n  }\n\n  getChannelChatRef(channelKey: string): FirebaseListObservable<ChannelMessage[]>{\n    return this.angularFireDatabase.list(`channels/${channelKey}`);\n  }\n\n  async addChannelMessage(channelKey: string, channelMessage: string){\n    await this.angularFireDatabase.list(`channels/${channelKey}`).push({ content: channelMessage });\n  }\n\n  async sendChat(message: Messages) {\n    try{\n      await this.angularFireDatabase.list('/messages/').push(message)\n    }\n    catch(e){\n      console.error(e);\n    }\n  }\n\n  getChats(userTwoId: string){\n    return this.authService.getAuthenticateUser()\n      .map(auth => auth.uid)\n      .mergeMap(uid => this.angularFireDatabase.list(`/user-messages/${uid}/${userTwoId}`))\n      .mergeMap(chats => {\n        return Observable.forkJoin(\n          chats.map(chat => this.angularFireDatabase.object(`/messages/${chat.$key}`)\n          .first()),\n          (...vals :Messages[]) => {\n          return vals;\n          }\n        )\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat/chat.service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\n\nimport { MyApp } from './app.component';\n\nimport { firebaseConfig } from './app.firebase.config';\nimport { AuthService } from '../providers/auth/auth.service';\nimport { AngularFireAuthModule } from \"angularfire2/auth\";\nimport { DataService } from '../providers/data/data.service';\nimport { FormsModule } from \"@angular/forms\";\nimport { ChatService } from '../providers/chat/chat.service';\n\n@NgModule({\n  declarations: [\n    MyApp\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    IonicModule.forRoot(MyApp, {}, \n{\n  links: [\n    { loadChildren: '../pages/channel-chat/channel-chat.module#ChannelChatPageModule', name: 'ChannelChatPage', segment: 'channel-chat', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/channels/channels.module#ChannelsPageModule', name: 'ChannelsPage', segment: 'channels', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/edit-profile/edit-profile.module#EditProfilePageModule', name: 'EditProfilePage', segment: 'edit-profile', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/inbox/inbox.module#InboxPageModule', name: 'InboxPage', segment: 'inbox', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/login/login.module#LoginPageModule', name: 'LoginPage', segment: 'login', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/message/message.module#MessagePageModule', name: 'MessagePage', segment: 'message', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/profile/profile.module#ProfilePageModule', name: 'ProfilePage', segment: 'profile', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/register/register.module#RegisterPageModule', name: 'RegisterPage', segment: 'register', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/search-user/search-user.module#SearchUserPageModule', name: 'SearchUserPage', segment: 'search-user', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/tabs/tabs.module#TabsPageModule', name: 'TabsPage', segment: 'tabs', priority: 'low', defaultHistory: [] }\n  ]\n}),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireAuthModule,\n    AngularFireDatabaseModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    AuthService,\n    DataService,\n    ChatService\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { AuthService } from \"../providers/auth/auth.service\";\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:string;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, private authService: AuthService) {\n\n    //Si l'utilisateur est deja connecter la home page n'est plus login mais inbox (TabsPage car elle redirige vers inboxPage)\n    this.authService.getAuthenticateUser().subscribe(auth =>\n      !auth ?\n      this.rootPage = 'LoginPage' :\n      this.rootPage = 'InboxPage'\n    );\n\n    platform.ready().then(() => {\n      //this.rootPage = 'LoginPage';\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export const firebaseConfig = {\n    apiKey: \"AIzaSyBZK7MdcH-WZ_TYfWq_G4olga5cPVjCwa4\",\n    authDomain: \"whatsapp-52562.firebaseapp.com\",\n    databaseURL: \"https://whatsapp-52562.firebaseio.com\",\n    projectId: \"whatsapp-52562\",\n    storageBucket: \"whatsapp-52562.appspot.com\",\n    messagingSenderId: \"606746942971\"\n  };\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.firebase.config.ts","import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { LoginResponse } from \"../../models/login/login-response.interface\";\nimport { Account } from './../../models/account/account.interface';\n\n/*\n  Generated class for the AuthProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular DI.\n*/\n@Injectable()\nexport class AuthService {\n\n  constructor(private angularFireAuth: AngularFireAuth) {\n  }\n\n  /**\n   * Recupère l'utilisateur authentifier (courant)\n   *\n   * @param {Account} account\n   * @returns user\n   * @memberof AuthService\n   */\n  getAuthenticateUser(){\n    return this.angularFireAuth.authState;\n  }\n\n  async createUserWithEmailAndPassword(account: Account){\n    try {\n      return <LoginResponse> {\n        result: await this.angularFireAuth.auth.createUserWithEmailAndPassword(account.email, account.password)\n      }\n    }\n    catch(err){\n      return <LoginResponse> {\n        error: err\n      }\n    }\n  }\n\n  async signInWithEmailAndPassword(account: Account){\n    try {\n      return <LoginResponse> {\n        result: await this.angularFireAuth.auth.signInWithEmailAndPassword(account.email, account.password)\n      }\n    }\n    catch(err){\n      return <LoginResponse> {\n        error: err\n      }\n    }\n  }\n\n  signOut(){\n    this.angularFireAuth.auth.signOut();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth/auth.service.ts"],"sourceRoot":""}