{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/components/components.module.ts","../../src/components/login-form/login-form.ts","../../src/components/register-form/register-form.ts","../../src/pages/login/login.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AACkC;AAWtE,IAAa,eAAe;IAA5B;IAA8B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAlB,eAAe;IAT3B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,yDAAS;SACV;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;YACnC,uFAAgB;SACjB;KACF,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;ACda;AACO;AACa;AACS;AAetE,IAAa,gBAAgB;IAA7B;IAA+B,CAAC;IAAD,uBAAC;AAAD,CAAC;AAAnB,gBAAgB;IAb5B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,kFAAkB;YAClB,2FAAqB;SACtB;QACD,OAAO,EAAE;YACP,sEAAe;SAChB;QACD,OAAO,EAAE;YACP,kFAAkB;YAClB,2FAAqB;SACtB;KACF,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBmC;AAIlB;AACkB;AAEhE;;;;;GAKG;AAKH,IAAa,kBAAkB;IAO7B,4BAAoB,aAA4B,EACxC,WAAwB;QADZ,kBAAa,GAAb,aAAa,CAAe;QACxC,gBAAW,GAAX,WAAW,CAAa;QANhC,YAAO,GAAG,EAAa,CAAC;QAOtB,IAAI,CAAC,WAAW,GAAG,IAAI,mEAAY,EAAiB,CAAC;IACvD,CAAC;IAEK,kCAAK,GAAX;;;;;4BACmB,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;;iCAA3C,SAA2C;wBAC1D,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;;KACjC;IAED,mDAAsB,GAAtB;QACE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC;IACzC,CAAC;IAqBH,yBAAC;AAAD,CAAC;AAnCW;IAAT,qEAAM,EAAE;kDAAc,mEAAY,oBAAZ,mEAAY;uDAAgB;AALxC,kBAAkB;IAJ9B,wEAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;OACI;KAC/B,CAAC;uBASgC;AAgCjC;SAxCY,MAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBW;AACU;AAEJ;AAEhD;;;;;GAKG;AAKH,IAAa,qBAAqB;IAKhC,+BAAoB,gBAAiC,EAAW,eAAgC;QAA5E,qBAAgB,GAAhB,gBAAgB,CAAiB;QAAW,oBAAe,GAAf,eAAe,CAAiB;QAFhG,YAAO,GAAG,EAAa,CAAC;QAGtB,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC;IAE5B,CAAC;IACD,oGAAoG;IACpG,0BAA0B;IACpB,wCAAQ,GAAd;;;;;;;wBAKmB,qBAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;;iCAAzG,SAAyG;wBACxH,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;4BAC3B,OAAO,EAAE,2BAA2B;4BACpC,QAAQ,EAAE,IAAI;yBACf,CAAC,CAAC,OAAO,EAAE,CAAC;wBAEb,+CAA+C;wBAC/C,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;;;;wBAGpC,OAAO,CAAC,KAAK,CAAC,KAAG,CAAC,CAAC;wBACnB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC;4BAC3B,OAAO,EAAE,KAAG,CAAC,OAAO;4BACpB,QAAQ,EAAE,IAAI;yBACf,CAAC,CAAC,OAAO,EAAE,CAAC;;;;;;KAEhB;IAEH,4BAAC;AAAD,CAAC;AAnCY,qBAAqB;IAJjC,wEAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;OACI;KAClC,CAAC;0BAMgG;AA8BjG;SAnCY,qBAAqB,W;;;;;;;;;;;;;;;;;;;;ACfQ;AACgC;AAG1E;;;;;GAKG;AAOH,IAAa,SAAS;IAEpB,mBAAoB,OAAsB,EAClC,eAAgC;QADpB,YAAO,GAAP,OAAO,CAAe;QAClC,oBAAe,GAAf,eAAe,CAAiB;IACxC,CAAC;IAED,yBAAK,GAAL,UAAM,KAAoB;QACxB,OAAO,CAAC,GAAG,CAAC,iFAAiF,EAAE,KAAK,CAAC,CAAC;QACtG,uFAAuF;QACvF,EAAE,EAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAC;YACf,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YACpC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC1B,OAAO,EAAE,sCAA0B,KAAK,CAAC,MAAM,CAAC,KAAO;gBACvD,QAAQ,EAAE,IAAI;aACd,CAAC,CAAC,OAAO,EAAE,CAAC;QAEhB,CAAC;QAAA,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAC;YACrB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC1B,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,OAAO;gBAC5B,QAAQ,EAAE,IAAI;aACd,CAAC,CAAC,OAAO,EAAE,CAAC;QAChB,CAAC;IAGH,CAAC;IAEH,gBAAC;AAAD,CAAC;AA1BY,SAAS;IALrB,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,YAAY;OACG;KAC1B,CAAC;gFAG0C;QACjB,MAAe;AAuBzC;SA1BY,SAAS,e","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\nimport { ComponentsModule } from \"../../components/components.module\";\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    ComponentsModule\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginFormComponent } from './login-form/login-form';\nimport { RegisterFormComponent } from './register-form/register-form';\n\n@NgModule({\n  declarations: [\n    LoginFormComponent,\n    RegisterFormComponent\n  ],\n  imports: [\n    IonicPageModule\n  ],\n  exports: [\n    LoginFormComponent,\n    RegisterFormComponent\n  ]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, EventEmitter, Output } from '@angular/core';\n\nimport { Account } from './../../models/account/account.interface';\nimport { LoginResponse } from \"../../models/login/login-response.interface\";\nimport { NavController } from \"ionic-angular\";\nimport { AuthService } from \"../../providers/auth/auth.service\";\n\n/**\n * Generated class for the LoginFormComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'app-login-form',\n  templateUrl: 'login-form.html'\n})\nexport class LoginFormComponent {\n\n  account = {} as Account;\n\n  //On vas poser un écouteur sur le résultat de la méthode .auth.signInWithEmailAndPassword()\n  @Output() loginStatus: EventEmitter<LoginResponse>;\n\n  constructor(private navController: NavController,\n  private authService: AuthService) {\n    this.loginStatus = new EventEmitter<LoginResponse>();\n  }\n\n  async login(){\n      const result = await this.authService.SignIn(this.account)\n      this.loginStatus.emit(result);\n  }\n\n  navigateToRegisterPage(){\n    this.navController.push('RegisterPage')\n  }\n\n    // Bonne pratique pour faire une fonction réutilisable -> exemple : (click)=\"navigateToPage('RegisterPage')\"\n  // (!) Si la personne click sur \"login\" la page suivantes (InboxPage) a un \"back boutton\" alors qu'il devrait juste avoir un boutton logout -> pour cela in va créer une fonction\n  // la page suivantes est InboxPage car on la défini comme première root dans les Tabs de TabsPage - Tabs => Bottom Navigation App\n  // navigateToPage(pageName: string){\n  //   /*\n  //     if(pageName === 'TabsPage'){\n  //       this.navCtrl.setRoot(pageName);\n  //     }else {\n  //       this.navCtrl.push(pageName)\n  //     }\n  //   */\n  //   // Si la page est égale à TabsPage (suite à un click sur login) -> on le redirige vers une page qui devient la page Root\n  //   // Sinon on le redirige vers la page selectionné (par default)\n  //   pageName === 'TabsPage' ? this.navCtrl.setRoot(pageName) : this.navCtrl.push(pageName);\n\n\n\n  // }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/login-form/login-form.ts","import { Component } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Account } from './../../models/account/account.interface';\nimport { ToastController } from 'ionic-angular';\n\n/**\n * Generated class for the RegisterFormComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'app-register-form',\n  templateUrl: 'register-form.html'\n})\nexport class RegisterFormComponent {\n\n  text: string;\n  account = {} as Account;\n\n  constructor(private toastCrontroller: ToastController,  private angularFireAuth: AngularFireAuth) {\n    console.log('Hello RegisterFormComponent Component');\n    this.text = 'Hello World';\n\n  }\n  // La déclaration async function définit une fonction asynchrone qui renvoie un objet AsyncFunction.\n  // Créer thread parrallèle\n  async register(){\n    // L'instruction try...catch regroupe des instructions à exécuter et définit une réponse si l'une de ces instructions provoque une exception.\n    // async try await & catch ~= .then(data, err)\n    try{\n      // L'opérateur await permet d'attendre la résolution d'une promesse (Promise). Il ne peut être utilisé qu'au sein d'une fonction asynchrone\n      const result = await this.angularFireAuth.auth.createUserWithEmailAndPassword(this.account.email, this.account.password);\n      this.toastCrontroller.create({\n        message: \"Account créée avec succès\",\n        duration: 3000\n      }).present();\n\n      // Génial ! attend la résolution d'une promesse\n      console.log(\"result await\", result);\n    }\n    catch(err){\n      console.error(err);\n      this.toastCrontroller.create({\n        message: err.message,\n        duration: 3000\n      }).present();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/register-form/register-form.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, ToastController } from 'ionic-angular';\nimport { LoginResponse } from \"../../models/login/login-response.interface\";\n\n/**\n * Generated class for the LoginPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  constructor(private navCtrl: NavController,\n  private toastController: ToastController) {\n  }\n\n  login(event: LoginResponse){\n    console.log(\"Equipe d'intervention login() du batiment LoginPage avons bien reçu le signal :\", event);\n    // event peut être égale à deux reponse différentes => soit {result: S} soit {error: O}\n    if(!event.error){\n      this.navCtrl.setRoot('ProfilePage');\n      this.toastController.create({\n        message: `Vous êtes connecté via ${event.result.email}`,\n        duration: 3000\n       }).present();\n\n    }else if (event.error){\n      this.toastController.create({\n        message: event.error.message,\n        duration: 3000\n       }).present();\n    }\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}